{% extends 'base.html.twig' %}

{% block title %}Registro{% endblock %}

{% block principal %}
    <div class="container" style="margin-top: 20px;">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <h1>Regístrate</h1>

                {# Mensajes de error específicos de verificación de email #}
                {% for flash_error in app.flashes('verify_email_error') %}
                    <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
                {% endfor %}

                {{ form_errors(registrationForm) }}

                {{ form_start(registrationForm) }}
                    
                    <div class="form-group">
                        {{ form_row(registrationForm.username, {
                            label: 'Nombre de Usuario'
                        }) }}
                    </div>

                    {# ¡IMPORTANTE! Añadimos el email que faltaba #}
                    <div class="form-group">
                        {{ form_row(registrationForm.email, {
                            label: 'Correo Electrónico'
                        }) }}
                    </div>

                    <div class="form-group">
                        {{ form_row(registrationForm.plainPassword, {
                            label: 'Contraseña'
                        }) }}
                    </div>

                    <div class="form-group">
                        {{ form_row(registrationForm.agreeTerms, {
                            label: 'Acepto los términos y condiciones'
                        }) }}
                    </div>

                    <button type="submit" class="btn btn-primary btn-lg btn-block">Registrarse</button>
                
                {{ form_end(registrationForm) }}
            </div>
        </div>
    </div>
{% endblock %}